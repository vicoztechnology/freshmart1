<script lang="ts">
	import { page, navigating } from '$app/state';
	import { getContext } from 'svelte';
	import { browser } from '$app/environment';
	const shareData = {
		title: 'MDN',
		text: 'Learn web development on MDN!',
		url: 'https://developer.mozilla.org'
	};
	//functions
	function nav_back() {
		if (browser) window.history.back();
	}

	async function share() {
		try {
			await navigator.share(shareData);
		} catch (err) {}
	}
</script>

<header>
	<div class="header_container">
		<div class="header">
			<div class="search-bar" style:--tag="pencarian">
				<div class="icon-search">
					{#if page.url.pathname.startsWith('/detail')}
						<button onclick={nav_back} aria-label="backpage" class="button_header">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								height="24px"
								viewBox="0 -960 960 960"
								width="24px"
								fill="var(--md-sys-color-on-surface)"
								><path
									d="m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z"
								/></svg
							>
						</button>
					{:else}
						<svg
							xmlns="http://www.w3.org/2000/svg"
							height="24px"
							viewBox="0 -960 960 960"
							width="24px"
							fill="var(--md-sys-color-primary)"
							><path
								d="M201-120q-33 0-56.5-23.5T121-200v-318q-23-21-35.5-54t-.5-72l42-136q8-26 28.5-43t47.5-17h556q27 0 47 16.5t29 43.5l42 136q12 39-.5 71T841-518v318q0 33-23.5 56.5T761-120H201Zm368-440q27 0 41-18.5t11-41.5l-22-140h-78v148q0 21 14 36.5t34 15.5Zm-180 0q23 0 37.5-15.5T441-612v-148h-78l-22 140q-4 24 10.5 42t37.5 18Zm-178 0q18 0 31.5-13t16.5-33l22-154h-78l-40 134q-6 20 6.5 43t41.5 23Zm540 0q29 0 42-23t6-43l-42-134h-76l22 154q3 20 16.5 33t31.5 13Z"
							/></svg
						>
					{/if}
				</div>

				<div class="text-search">
					{#if page.url.pathname.startsWith('/detail')}{:else}
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 12.670000076293945 363.7799987792969 35.480003356933594"
							data-asc="0.95"
							width="90,9"
							height="8.87"
							><defs /><g
								><g
									><g transform="translate(0, 0)"
										><path
											d="M0 47.50L0 22.50L6.90 22.50L6.90 24.35Q8.18 23.15 9.85 22.47Q11.53 21.80 13.40 21.80Q15.95 21.80 18.09 22.97Q20.23 24.15 21.53 26.10Q22.85 24.15 24.98 22.97Q27.10 21.80 29.63 21.80Q32.35 21.80 34.56 23.13Q36.78 24.45 38.10 26.66Q39.43 28.88 39.43 31.60L39.43 47.50L32.52 47.50L32.52 33.50Q32.52 32.20 31.89 31.14Q31.25 30.07 30.20 29.44Q29.15 28.80 27.85 28.80Q26.55 28.80 25.49 29.43Q24.43 30.05 23.79 31.11Q23.15 32.17 23.15 33.50L23.15 47.50L16.25 47.50L16.25 33.50Q16.25 32.17 15.63 31.11Q15 30.05 13.94 29.43Q12.88 28.80 11.58 28.80Q10.30 28.80 9.24 29.44Q8.18 30.07 7.54 31.14Q6.90 32.20 6.90 33.50L6.90 47.50L0 47.50ZM62.28 22.50L69.18 22.50L69.18 47.50L62.25 47.50L61.93 44.90Q60.95 46.35 59.43 47.25Q57.90 48.15 55.85 48.15Q53.05 48.15 50.63 47.10Q48.20 46.05 46.35 44.20Q44.50 42.35 43.46 39.91Q42.43 37.48 42.43 34.67Q42.43 32 43.40 29.68Q44.38 27.35 46.15 25.57Q47.93 23.80 50.24 22.80Q52.55 21.80 55.23 21.80Q57.53 21.80 59.36 22.77Q61.20 23.75 62.58 25.25L62.28 22.50M55.68 41.52Q57.38 41.52 58.75 40.65Q60.13 39.77 60.93 38.29Q61.73 36.80 61.73 35Q61.73 33.17 60.93 31.70Q60.13 30.22 58.75 29.35Q57.38 28.47 55.68 28.47Q53.95 28.47 52.55 29.35Q51.15 30.22 50.33 31.71Q49.50 33.20 49.50 35Q49.50 36.80 50.34 38.29Q51.18 39.77 52.58 40.65Q53.98 41.52 55.68 41.52ZM74.18 47.50L74.18 22.50L81.08 22.50L81.08 24.35Q82.35 23.15 84.03 22.47Q85.70 21.80 87.58 21.80Q90.13 21.80 92.26 22.97Q94.40 24.15 95.70 26.10Q97.03 24.15 99.15 22.97Q101.28 21.80 103.80 21.80Q106.53 21.80 108.74 23.13Q110.95 24.45 112.28 26.66Q113.60 28.88 113.60 31.60L113.60 47.50L106.70 47.50L106.70 33.50Q106.70 32.20 106.06 31.14Q105.43 30.07 104.38 29.44Q103.33 28.80 102.03 28.80Q100.73 28.80 99.66 29.43Q98.60 30.05 97.96 31.11Q97.33 32.17 97.33 33.50L97.33 47.50L90.43 47.50L90.43 33.50Q90.43 32.17 89.80 31.11Q89.18 30.05 88.11 29.43Q87.05 28.80 85.75 28.80Q84.48 28.80 83.41 29.44Q82.35 30.07 81.71 31.14Q81.08 32.20 81.08 33.50L81.08 47.50L74.18 47.50ZM118.60 22.50L125.50 22.50L125.50 47.50L118.60 47.50L118.60 22.50M122.10 19.63Q120.60 19.63 119.58 18.63Q118.55 17.63 118.55 16.15Q118.55 14.67 119.58 13.67Q120.60 12.67 122.08 12.67Q123.55 12.67 124.56 13.67Q125.58 14.67 125.58 16.15Q125.58 17.63 124.59 18.63Q123.60 19.63 122.10 19.63ZM131.28 47.50L131.28 22.50L138.18 22.50L138.18 24.35Q139.45 23.15 141.13 22.47Q142.80 21.80 144.68 21.80Q147.23 21.80 149.36 22.97Q151.50 24.15 152.80 26.10Q154.13 24.15 156.25 22.97Q158.38 21.80 160.90 21.80Q163.63 21.80 165.84 23.13Q168.05 24.45 169.38 26.66Q170.70 28.88 170.70 31.60L170.70 47.50L163.80 47.50L163.80 33.50Q163.80 32.20 163.16 31.14Q162.53 30.07 161.48 29.44Q160.43 28.80 159.13 28.80Q157.83 28.80 156.76 29.43Q155.70 30.05 155.06 31.11Q154.43 32.17 154.43 33.50L154.43 47.50L147.53 47.50L147.53 33.50Q147.53 32.17 146.90 31.11Q146.28 30.05 145.21 29.43Q144.15 28.80 142.85 28.80Q141.58 28.80 140.51 29.44Q139.45 30.07 138.81 31.14Q138.18 32.20 138.18 33.50L138.18 47.50L131.28 47.50ZM174.70 38.35L174.70 22.50L181.60 22.50L181.60 36.45Q181.60 37.77 182.24 38.84Q182.88 39.90 183.95 40.52Q185.03 41.15 186.30 41.15Q187.60 41.15 188.68 40.52Q189.75 39.90 190.38 38.84Q191.00 37.77 191.00 36.45L191.00 22.50L197.90 22.50L197.93 47.50L191.03 47.50L191.00 45.60Q189.75 46.80 188.06 47.48Q186.38 48.15 184.50 48.15Q181.80 48.15 179.58 46.83Q177.35 45.50 176.03 43.29Q174.70 41.08 174.70 38.35ZM226.15 31.60L226.15 47.50L219.25 47.50L219.25 33.50Q219.25 32.17 218.61 31.11Q217.98 30.05 216.91 29.43Q215.85 28.80 214.55 28.80Q213.25 28.80 212.18 29.43Q211.10 30.05 210.48 31.11Q209.85 32.17 209.85 33.50L209.85 47.50L202.95 47.50L202.93 22.50L209.83 22.50L209.85 24.35Q211.10 23.15 212.79 22.47Q214.48 21.80 216.35 21.80Q219.08 21.80 221.29 23.13Q223.50 24.45 224.83 26.66Q226.15 28.88 226.15 31.60ZM249.00 22.50L255.90 22.50L255.90 47.50L248.98 47.50L248.65 44.90Q247.68 46.35 246.15 47.25Q244.63 48.15 242.58 48.15Q239.78 48.15 237.35 47.10Q234.93 46.05 233.08 44.20Q231.23 42.35 230.19 39.91Q229.15 37.48 229.15 34.67Q229.15 32 230.13 29.68Q231.10 27.35 232.88 25.57Q234.65 23.80 236.96 22.80Q239.28 21.80 241.95 21.80Q244.25 21.80 246.09 22.77Q247.93 23.75 249.30 25.25L249.00 22.50M242.40 41.52Q244.10 41.52 245.48 40.65Q246.85 39.77 247.65 38.29Q248.45 36.80 248.45 35Q248.45 33.17 247.65 31.70Q246.85 30.22 245.48 29.35Q244.10 28.47 242.40 28.47Q240.68 28.47 239.28 29.35Q237.88 30.22 237.05 31.71Q236.23 33.20 236.23 35Q236.23 36.80 237.06 38.29Q237.90 39.77 239.30 40.65Q240.70 41.52 242.40 41.52ZM263.38 48.15Q261.93 48.15 260.91 47.14Q259.90 46.13 259.90 44.65Q259.90 43.23 260.91 42.20Q261.93 41.17 263.38 41.17Q264.83 41.17 265.85 42.20Q266.88 43.23 266.88 44.65Q266.88 46.13 265.85 47.14Q264.83 48.15 263.38 48.15ZM287.23 39.60L293.43 42.95Q291.70 45.30 289.10 46.73Q286.50 48.15 283.43 48.15Q279.98 48.15 277.14 46.38Q274.30 44.60 272.61 41.61Q270.93 38.63 270.93 35Q270.93 32.25 271.90 29.86Q272.88 27.47 274.59 25.66Q276.30 23.85 278.58 22.82Q280.85 21.80 283.43 21.80Q286.50 21.80 289.10 23.22Q291.70 24.65 293.43 27.05L287.23 30.40Q286.45 29.57 285.46 29.14Q284.48 28.70 283.43 28.70Q281.83 28.70 280.56 29.57Q279.30 30.45 278.56 31.89Q277.83 33.33 277.83 35Q277.83 36.65 278.58 38.08Q279.33 39.50 280.59 40.38Q281.85 41.25 283.43 41.25Q284.50 41.25 285.48 40.80Q286.45 40.35 287.23 39.60ZM308.03 48.15Q304.58 48.15 301.74 46.38Q298.90 44.60 297.21 41.61Q295.53 38.63 295.53 35Q295.53 32.25 296.50 29.86Q297.48 27.47 299.19 25.66Q300.90 23.85 303.18 22.82Q305.45 21.80 308.03 21.80Q311.48 21.80 314.31 23.57Q317.15 25.35 318.84 28.35Q320.53 31.35 320.53 35Q320.53 37.73 319.55 40.10Q318.58 42.48 316.86 44.29Q315.15 46.10 312.89 47.13Q310.63 48.15 308.03 48.15M308.03 41.25Q309.63 41.25 310.90 40.39Q312.18 39.52 312.90 38.10Q313.63 36.67 313.63 35Q313.63 33.27 312.86 31.84Q312.10 30.40 310.83 29.55Q309.55 28.70 308.03 28.70Q306.45 28.70 305.18 29.57Q303.90 30.45 303.16 31.88Q302.43 33.30 302.43 35Q302.43 36.77 303.19 38.19Q303.95 39.60 305.23 40.42Q306.50 41.25 308.03 41.25ZM324.35 47.50L324.35 22.50L331.25 22.50L331.25 24.35Q332.53 23.15 334.20 22.47Q335.88 21.80 337.75 21.80Q340.30 21.80 342.44 22.97Q344.58 24.15 345.88 26.10Q347.20 24.15 349.33 22.97Q351.45 21.80 353.98 21.80Q356.70 21.80 358.91 23.13Q361.13 24.45 362.45 26.66Q363.78 28.88 363.78 31.60L363.78 47.50L356.88 47.50L356.88 33.50Q356.88 32.20 356.24 31.14Q355.60 30.07 354.55 29.44Q353.50 28.80 352.20 28.80Q350.90 28.80 349.84 29.43Q348.78 30.05 348.14 31.11Q347.50 32.17 347.50 33.50L347.50 47.50L340.60 47.50L340.60 33.50Q340.60 32.17 339.98 31.11Q339.35 30.05 338.29 29.43Q337.23 28.80 335.93 28.80Q334.65 28.80 333.59 29.44Q332.53 30.07 331.89 31.14Q331.25 32.20 331.25 33.50L331.25 47.50L324.35 47.50Z"
										/></g
									><g transform="translate(0, 6.25)"><path d="" /></g></g
								></g
							></svg
						>
					{/if}
				</div>
				<div class="rail-icon">
					<div>
						{#if page.url.pathname.startsWith('/detail')}
							<button onclick={share} aria-label="button share" class="button_header">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									height="24px"
									viewBox="0 -960 960 960"
									width="24px"
									fill="var(--md-sys-color-on-surface)"
									><path
										d="M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Z"
									/></svg
								>
							</button>
						{:else}
							<a href="/cari" aria-label="perncarian">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									height="24px"
									viewBox="0 -960 960 960"
									width="24px"
									fill="var(--md-sys-color-on-surface)"
									><path
										d="M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"
									/></svg
								>
							</a>
						{/if}
					</div>
					<div>
						<div class="">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								height="24px"
								viewBox="0 -960 960 960"
								width="24px"
								fill="var(--md-sys-color-on-surface)"
								><path
									d="M221-120q-27 0-48-16.5T144-179L42-549q-5-19 6.5-35T80-600h190l176-262q5-8 14-13t19-5q10 0 19 5t14 13l176 262h192q20 0 31.5 16t6.5 35L816-179q-8 26-29 42.5T739-120H221Zm259-160q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM367-600h225L479-768 367-600Z"
								/></svg
							>
							<span class="badge-keranjang">10</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>

<style>
	.badge-keranjang {
		border-radius: 50%;
		padding: 2px 3px 2px 3px;
		background-color: var(--md-sys-color-error);
		color: var(--md-sys-color-on-error);
		font-size: 10px;
		position: relative;
		left: -10px;
		top: -15px;
	}
	.rail-icon {
		display: flex;
	}
	.search-bar {
		margin-left: 15px;
		margin-right: 15px;
		background-color: var(--md-sys-color-surface-container-high);
		width: 100%;
		padding: 10px;
		border-radius: 30px;
		color: var(--md-sys-color-on-surface-variant);
		display: flex;
		justify-content: space-between;
		align-items: center;
	}
	.icon-search {
		margin-left: 5px;
	}
	.rail-icon {
		margin-right: 5px;
		gap: 10px;
	}
	.button_header {
		background-color: var(--md-sys-color-surface-container-high);
		border: none;
	}
</style>
